const sessionStorage=window.sessionStorage;if(!sessionStorage.getItem("played")){sessionStorage.setItem("played",!1)}
document.addEventListener("DOMContentLoaded",()=>{let unitSelect=document.querySelector("#unit");let weightInput=document.querySelector("#weight");let heightInput=document.querySelector("#height");let bmiResultsValue=document.querySelector("#bmi-results-value");let weightIdentifier=document.querySelector("#weight-identifier");let calculationSentence=document.querySelector("#calculation_sentence");unitSelect.addEventListener("change",()=>{if(unitSelect.value==='metric'){weightInput.placeholder="Weight (kg)";heightInput.placeholder="Height (cm)"}else if(unitSelect.value==='imperial'){weightInput.placeholder="Weight (lbs)";heightInput.placeholder="Height (in)"}});function update(){let unit=unitSelect.value;let weight=parseFloat(weightInput.value);let height=parseFloat(heightInput.value);let roundedBmi;if(isNaN(weight)||isNaN(height)||height===0){bmiResultsValue.textContent="Invalid Input";bmiResultsValue.style.fontSize="21px";return}
let bmi;if(unit==='metric'){height=height/100;bmi=weight/(height*height)}else if(unit==='imperial'){weight=weight*0.453592;height=height*0.0254;bmi=weight/(height*height)}
roundedBmi=Math.round(bmi*10)/10;bmiResultsValue.textContent=roundedBmi;bmiResultsValue.style.fontSize=Math.min(110/String(roundedBmi).length,70)+"px";if(bmi<18.5){weightIdentifier.style.color="#c38902ff";calculationSentence.textContent="According to calculations, you are ";weightIdentifier.textContent="underweight."}else if(bmi>=18.5&&bmi<24.9){weightIdentifier.style.color="#00a600";calculationSentence.textContent="According to calculations, you are ";weightIdentifier.textContent="healthy."}else if(bmi>=25&&bmi<29.9){weightIdentifier.style.color="#a70101f3";calculationSentence.textContent="According to calculations, you are ";weightIdentifier.textContent="overweight."}else if(bmi>=30&&bmi<34.9){weightIdentifier.style.color="#c90000ff";calculationSentence.textContent="According to calculations, you have ";weightIdentifier.textContent="Obesity Class 1."}else if(bmi>=35&&bmi<39.9){weightIdentifier.style.color="#e50000ff";calculationSentence.textContent="According to calculations, you have ";weightIdentifier.textContent="Obesity Class 2."}else if(bmi>=40){weightIdentifier.style.color="#ff0000ff";calculationSentence.textContent="According to calculations, you have ";weightIdentifier.textContent="Obesity Class 3."}}
function changeUnit(){update();weightInput.value='';heightInput.value='';bmiResultsValue.textContent="Waiting for Input";weightIdentifier.textContent="...";weightIdentifier.style.color="";bmiResultsValue.style.fontSize="15px"}
weightInput.addEventListener("input",update);heightInput.addEventListener("input",update);unitSelect.addEventListener("change",changeUnit);if(sessionStorage.getItem("played")==="false"){let disclaimer=document.querySelector("#disclaimer");setTimeout(()=>{disclaimer.style.transform="translateY(0px)";sessionStorage.setItem("played",!0)},200);setTimeout(()=>{disclaimer.style.transform="translateY(-95px)"},5000);disclaimer.addEventListener("click",()=>{disclaimer.style.transform="translateY(-95px)"})}})